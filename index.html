<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C√≥mo rezar el Santo Rosario</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 30px 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        h1 {
            text-align: center;
            color: #764ba2;
            margin-bottom: 20px;
            font-size: 2.5em;
        }
        
        h2 {
            color: #667eea;
            margin-top: 30px;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
        }
        
        h4 {
            color: #764ba2;
            margin-top: 25px;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        /* Controles de selecci√≥n de Misterios */
        .mystery-selection-controls {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
            padding: 15px;
            background: #e9eef6;
            border-radius: 10px;
        }
        .mystery-type-button {
            flex: 1 1 auto;
            max-width: 200px;
            background: #764ba2;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em; 
            transition: background 0.3s;
        }
        .mystery-type-button:hover {
            background: #5a3875;
        }
        .mystery-type-button.active {
            background: #667eea;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }

        /* Estilo para el t√≠tulo del Misterio que se puede hacer clic (Collapse Header) */
        .mystery-title-clickable {
            cursor: pointer;
            padding: 10px 15px;
            background: #e6e9f0;
            border-radius: 8px;
            margin-top: 15px;
            margin-bottom: 0; 
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.3s;
        }
        .mystery-title-clickable:hover {
            background: #d4d7e0;
        }
        .mystery-title-clickable h4 {
            margin: 0;
            color: #764ba2;
            flex-grow: 1;
        }
        .mystery-title-clickable span {
            font-size: 1.5em;
            color: #764ba2;
            margin-left: 10px;
            transition: transform 0.3s;
        }
        
        .mystery-subtitle {
            color: #888;
            font-size: 0.9em;
            font-style: italic;
            margin-top: -5px;
            margin-bottom: 10px;
        }
        
        .prayer-text {
            background: #f8f9fa;
            padding: 15px;
            border-left: 4px solid #667eea;
            margin: 15px 0;
            border-radius: 5px;
        }
        
        /* Estilo para el pasaje b√≠blico desplegable (Collapse Body) */
        .bible-passage {
            display: none; /* Oculto por defecto */
            background: #fff;
            padding: 15px;
            margin: 0 0 15px 0;
            border: 1px solid #ddd;
            border-radius: 0 0 8px 8px;
            font-style: italic;
            line-height: 1.5;
            color: #555;
            font-size: 0.95em;
        }
        .bible-passage p {
            margin-bottom: 5px;
        }

        .prayer-button {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 25px;
            margin: 10px 5px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            transition: background 0.3s, opacity 0.3s;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            outline: none;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            user-select: none;
            -webkit-user-select: none;
        }
        
        /* Efectos de Hover y Active (mantienen el comportamiento original) */
        @media (hover: hover) and (pointer: fine) {
            .prayer-button:hover:not(.completed):not(:disabled) {
                background: #764ba2;
                transform: translateY(-2px);
                box-shadow: 0 6px 12px rgba(0,0,0,0.2);
            }
        }
        
        .prayer-button:focus {
            outline: none;
        }
        
        .prayer-button:active:not(.completed):not(:disabled) {
            transform: translateY(0);
        }
        
        .prayer-section {
            margin: 20px 0;
            padding: 20px 0;
            background: #fafbfc;
            border-radius: 10px;
        }
        
        /* ESTILO CORREGIDO: para botones ya completados */
        .completed {
            opacity: 0.6 !important;
            background: #e8f5e9 !important; /* Color verde muy claro */
            color: #4CAF50 !important; /* Texto verde para indicar √©xito */
            cursor: default !important;
            pointer-events: none;
            transform: none !important;
            box-shadow: none !important;
        }

        .response {
            font-style: italic;
            color: #666;
            margin-left: 20px;
        }
        
        .quote-box {
            background: #e3f2fd;
            border-left: 5px solid #2196f3;
            padding: 20px;
            margin: 30px 0;
            border-radius: 5px;
        }
        
        .quote-box p {
            font-style: italic;
            color: #1976d2;
        }
        
        .quote-author {
            text-align: right;
            font-weight: bold;
            margin-top: 10px;
        }
        
        .optional-section {
            background: #fff3e0;
            border-left: 5px solid #ff9800;
            padding: 20px 0;
            margin: 30px 0;
            border-radius: 5px;
        }
        
        .optional-header {
            color: #f57c00;
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 15px;
        }
        
        .optional-index {
            background: #fff;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .optional-index ul {
            list-style: none;
            padding: 0;
            margin: 10px 0 0 0;
        }
        
        .optional-index li {
            margin: 8px 0;
        }
        
        .optional-index a {
            color: #f57c00;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .optional-index a:hover {
            color: #e65100;
            text-decoration: underline;
        }

        /* Estilo para las letan√≠as/oraci√≥n unificadas */
        .letanias-oracion-box {
            padding: 10px;
            margin-bottom: 10px;
        }
        
        .kyrie-line {
            margin: 5px 0 5px 0;
        }

        .invocation-line {
            color: #333;
            margin: 10px 0 0 0;
            padding-left: 5px; 
        }

        .response-line {
            font-style: italic;
            color: #666;
            margin: 0 0 15px 30px;
        }

        .letanias-oracion-box strong {
            display: block;
            margin-top: 20px; 
            margin-bottom: 10px;
            color: #764ba2;
            font-size: 1.1em;
        }

        /* Signo + en color rojo (GU√çA - IMPAR) */
        .red-plus {
            color: red;
            font-weight: bold;
            margin-right: 5px;
            margin-left: 5px;
        }

        /* Signo + en color azul/morado (ASAMBLEA - PAR) */
        .default-plus {
            color: #667eea;
            font-weight: bold;
            margin-right: 5px;
            margin-left: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>C√≥mo rezar el Santo Rosario</h1>
        
        <p class="intro-text">Selecciona el d√≠a de la semana que deseas rezar. Las cinco decenas del Misterio correspondiente se cargar√°n a continuaci√≥n. Los signos <span class="red-plus">+</span> indican la parte del Gu√≠a y los <span class="default-plus">+</span> la parte de la Asamblea.</p>
        
        <div class="quote-box">
            <p>El Santo Rosario es una devoci√≥n recomendada por muchos Papas y Santos. La misma Virgen pidi√≥ que se rezase en Lourdes y F√°tima.</p>
        </div>

        <div id="inicio-rosario">
            </div>

        
        <h2>Selecci√≥n del Misterio del D√≠a</h2>

        <div class="mystery-selection-controls" id="mystery-types">
            </div>

        <div id="misterio-seleccionado">
            <p style="text-align: center; color: #777; padding: 20px;">Pulsa en el misterio que corresponde al d√≠a para comenzar a rezar las cinco decenas.</p>
        </div>

        <div id="fin-rosario">
            </div>

        <h2>Citas sobre el Santo Rosario</h2>
        <div id="quotes-content"></div>
    </div>



    <script>
        // --- ALMACENAMIENTO DE ORACIONES Y MISTERIOS ---

        const oraciones = {
            inicio: "Por la se√±al de la Santa Cruz, de nuestros enemigos l√≠branos Se√±or Dios Nuestro. En el nombre del Padre, del Hijo y del Esp√≠ritu Santo. Am√©n.",
            
            bajoTuAmparo: "Bajo tu amparo nos acogemos, Santa Madre de Dios; no deseches las s√∫plicas que te dirigimos en nuestras necesidades, antes bien, l√≠branos de todo peligro, ¬°oh siempre Virgen, gloriosa y bendita!",
            
            invocaciones: {
                linea1: "Se√±or, √°breme los labios.",
                respuesta1: "Y mi boca proclamar√° tu alabanza.",
                linea2: "Dios m√≠o, ven en mi auxilio.",
                respuesta2: "Se√±or, date prisa en socorrerme.",
                linea3: "Gloria al Padre y al Hijo y al Esp√≠ritu Santo.",
                respuesta3: "Como era en el principio, ahora y siempre, por los siglos de los siglos. Am√©n."
            },
            
            // --- VERSIONES NORMALES (ROJO/GU√çA -> AZUL/ASAMBLEA) ---
            // Usada para Misterios IMPARES (1¬∞, 3¬∞, 5¬∞)
            padrenuestro: "<span class='red-plus'>+</span> Padre nuestro, que est√°s en el cielo, santificado sea tu Nombre; venga a nosotros tu reino; h√°gase tu voluntad en la tierra como en el cielo. <span class='default-plus'>+</span> Danos hoy nuestro pan de cada d√≠a; perdona nuestras ofensas como tambi√©n nosotros perdonamos a los que nos ofenden; no nos dejes caer en la tentaci√≥n y l√≠branos del mal. Am√©n.",
            avemaria: "<span class='red-plus'>+</span> Dios te salve, Mar√≠a, llena eres de gracia; el Se√±or es contigo, bendita T√∫ eres entre todas las mujeres y bendito es el fruto de tu vientre, Jes√∫s. <span class='default-plus'>+</span> Santa Mar√≠a, Madre de Dios, ruega por nosotros, pecadores, ahora y en la hora de nuestra muerte. Am√©n.",
            gloria: "<span class='red-plus'>+</span> Gloria al Padre y al Hijo y al Esp√≠ritu Santo. <span class='default-plus'>+</span> Como era en el principio, ahora y siempre, por los siglos de los siglos. Am√©n.",

            // --- VERSIONES INVERSAS (AZUL/GU√çA -> ROJO/ASAMBLEA) ---
            // Usada para Misterios PARES (2¬∞, 4¬∞)
            padrenuestroInverso: "<span class='default-plus'>+</span> Padre nuestro, que est√°s en el cielo, santificado sea tu Nombre; venga a nosotros tu reino; h√°gase tu voluntad en la tierra como en el cielo. <span class='red-plus'>+</span> Danos hoy nuestro pan de cada d√≠a; perdona nuestras ofensas como tambi√©n nosotros perdonamos a los que nos ofenden; no nos dejes caer en la tentaci√≥n y l√≠branos del mal. Am√©n.",
            avemariaInversa: "<span class='default-plus'>+</span> Dios te salve, Mar√≠a, llena eres de gracia; el Se√±or es contigo, bendita T√∫ eres entre todas las mujeres y bendito es el fruto de tu vientre, Jes√∫s. <span class='red-plus'>+</span> Santa Mar√≠a, Madre de Dios, ruega por nosotros, pecadores, ahora y en la hora de nuestra muerte. Am√©n.",
            gloriaInversa: "<span class='default-plus'>+</span> Gloria al Padre y al Hijo y al Esp√≠ritu Santo. <span class='red-plus'>+</span> Como era en el principio, ahora y siempre, por los siglos de los siglos. Am√©n.",

            ohJesus: "Oh Jes√∫s m√≠o, perdona nuestros pecados. L√≠branos del fuego del infierno, lleva a todas las almas al cielo, socorre especialmente a las m√°s necesitadas de tu misericordia. Y env√≠anos santas vocaciones.",
            
            santiguacion: "En el nombre del Padre, del Hijo y del Esp√≠ritu Santo. Am√©n.",
            
            cordero: {
                linea1: "Cordero de Dios, que quitas el pecado del mundo,",
                respuesta1: "perd√≥nanos, Se√±or.",
                linea2: "Cordero de Dios, que quitas el pecado del mundo,",
                respuesta2: "esc√∫chanos, Se√±or.",
                linea3: "Cordero de Dios, que quitas el pecado del mundo,",
                respuesta3: "ten misericordia de nosotros.",
                linea4: "Ruega por nosotros, Santa Madre de Dios.",
                respuesta4: "Para que seamos dignos de las promesas de Cristo."
            },
            
            oracionFinal: "Te rogamos nos concedas, Se√±or Dios nuestro, gozar de continua salud de alma y cuerpo, y por la gloriosa intercesi√≥n de la bienaventurada siempre Virgen Mar√≠a, vernos libres de las tristezas de la vida presente y disfrutar de las alegr√≠as eternas. Por Cristo nuestro Se√±or. Am√©n.",
            
            salve: "Dios te salve, Reina y Madre de misericordia, vida, dulzura y esperanza nuestra; Dios te salve. A Ti clamamos los desterrados hijos de Eva; a Ti suspiramos, gimiendo y llorando, en este valle de l√°grimas. Ea, pues, Se√±ora, abogada nuestra, vuelve a nosotros esos tus ojos misericordiosos; y despu√©s de este destierro mu√©stranos a Jes√∫s, fruto bendito de tu vientre. ¬°Oh clement√≠sima, oh piadosa, oh dulce Virgen Mar√≠a! Ruega por nosotros, Santa Madre de Dios. Para que seamos dignos de alcanzar las promesas de Nuestro Se√±or Jesucristo. Am√©n.",
            
            jaculatoria: {
                linea: "Ave Mar√≠a Pur√≠sima.",
                respuesta: "Sin pecado concebida."
            },
            
            mesMaria: {
                inicial: "¬°Oh, Mar√≠a!, durante el bello mes que te est√° consagrado, todo resuena con tu Nombre y alabanza. Tu Santuario resplandece con nuevo brillo y nuestras manos te han elevado un trono de gracia y de amor, desde donde presides nuestras fiestas y escuchas nuestras oraciones y votos. Para honrarte, hemos esparcido frescas flores a tus pies y adornado tu frente con guirnaldas y coronas. Mas, ¬°oh, Mar√≠a!, no te das por satisfecha con estos homenajes; hay flores cuya frescura y lozan√≠a jam√°s pasan y coronas que no se marchitan. √âstas son las que T√∫ esperas de tus hijos, porque el m√°s hermoso adorno de una madre es la piedad de sus hijos y la m√°s bella corona que pueden poner a sus pies es la de sus virtudes. S√≠, los lirios que T√∫ nos pides son la inocencia de nuestros corazones. Nos esforzaremos pues, durante el curso de este mes consagrado a tu gloria, ¬°oh, Virgen Santa! en conservar nuestras almas puras y sin mancha, y en separar de nuestros pensamientos, deseos y miradas, aun la sombra misma del mal. La rosa, cuyo brillo agrada a tus ojos es la caridad, el amor a Dios y a nuestros hermanos. Nos amaremos pues los unos a los otros como hijos de una misma familia cuya madre eres, viviendo todos en la dulzura de una concordia fraternal. En este mes bendito, procuraremos cultivar en nuestros corazones la humildad, modesta flor que te es tan querida y con tu auxilio llegaremos a ser puros, humildes, caritativos, pacientes y esperanzados. ¬°Oh, Mar√≠a!, haz producir en el fondo de nuestros corazones todas estas amables virtudes, que ellas broten, florezcan y den al fin frutos de gracia, para poder ser alg√∫n d√≠a dignos hijos de la m√°s Santa y de la mejor de las madres. Am√©n.",
                
                final: "Oh Mar√≠a, Madre de Jes√∫s, nuestro Salvador y nuestra buena Madre. Nosotros venimos a ofrecerte con estos obsequios que colocamos a tus pies, nuestros corazones, deseosos de agradarte y a solicitar de tu bondad un nuevo ardor en tu santo servicio. D√≠gnate presentarnos a tu Divino Hijo, que en vista de sus m√©ritos y a nombre de su Santa Madre, dirija nuestros pasos por el sendero de la virtud. Que haga lucir con nuevo esplendor la luz de la fe sobre los infortunados pueblos que gimen por tanto tiempo en las tinieblas del error; que vuelvan hacia √âl y cambie tantos corazones rebeldes cuya penitencia regocijar√° su coraz√≥n y el tuyo. Que convierta a los enemigos de su Iglesia y que en fin encienda por todas partes el fuego de su ardiente caridad. Que nos colme de alegr√≠a, en medio de las tribulaciones de esta vida, y de esperanza para el porvenir. Am√©n."
            }
        };

        const todosLosMisterios = {
            gozosos: [
                { titulo: "La Encarnaci√≥n del Hijo de Dios", dia: "Lunes y S√°bado", pasaje: "¬´Al sexto mes el √°ngel Gabriel fue enviado por Dios a una ciudad de Galilea, llamada Nazaret, a una virgen desposada con un hombre llamado Jos√©, de la estirpe de David; el nombre de la virgen era Mar√≠a¬ª (Lc 1,26-27)." },
                { titulo: "La Visitaci√≥n de Nuestra Se√±ora a su prima Santa Isabel", dia: "Lunes y S√°bado", pasaje: "¬´En aquellos d√≠as Mar√≠a se puso en camino y fue aprisa a la regi√≥n monta√±osa, a una ciudad de Jud√°; entr√≥ en casa de Zacar√≠as y salud√≥ a Isabel. Y sucedi√≥ que, en cuanto Isabel oy√≥ el saludo de Mar√≠a, salt√≥ de gozo el ni√±o en su seno, e Isabel qued√≥ llena de Esp√≠ritu Santo; y exclamando a voz en grito, dijo: 'Bendita t√∫ entre las mujeres y bendito el fruto de tu seno'¬ª (Lc 1, 39-42)" },
                { titulo: "El Nacimiento del Hijo de Dios en el portal de Bel√©n", dia: "Lunes y S√°bado", pasaje: "¬´Sucedi√≥ que por aquellos d√≠as sali√≥ un edicto de C√©sar Augusto ordenando que se empadronase todo el mundo... Subi√≥ tambi√©n Jos√© desde Galilea... a la ciudad de David, que se llama Bel√©n... para empadronarse con Mar√≠a, su esposa, que estaba encinta. Y sucedi√≥ que, mientras ellos estaban all√≠, se le cumplieron los d√≠as del alumbramiento, y dio a luz a su hijo primog√©nito, le envolvi√≥ en pa√±ales y le acost√≥ en un pesebre, porque no ten√≠an sitio en el alojamiento¬ª (Lc 2,1-7)." },
                { titulo: "La presentaci√≥n de Jes√∫s en el Templo", dia: "Lunes y S√°bado", pasaje: "¬´Cuando se cumplieron los ocho d√≠as para circuncidarle, se le dio el nombre de Jes√∫s... Cuando se cumplieron los d√≠as de la purificaci√≥n de ellos, seg√∫n la Ley de Mois√©s, llevaron a Jes√∫s a Jerusal√©n para presentarle al Se√±or... y para ofrecer en sacrificio un par de t√≥rtolas o dos pichones, conforme a lo que se dice en la Ley del Se√±or¬ª (Lc 2, 21-24)." },
                { titulo: "El Ni√±o Jes√∫s perdido y hallado en el Templo", dia: "Lunes y S√°bado", pasaje: "¬´Sus padres iban todos los a√±os a Jerusal√©n a la fiesta de la Pascua... el ni√±o Jes√∫s se qued√≥ en Jerusal√©n, sin saberlo sus padres... Y sucedi√≥ que al cabo de tres d√≠as, le encontraron en el Templo sentado en medio de los maestros, escuch√°ndoles y pregunt√°ndoles; todos los que le o√≠an, estaban estupefactos por su inteligencia y sus respuestas¬ª (Lc 2, 41-47)" }
            ],
            luminosos: [
                { titulo: "El Bautismo en el Jord√°n", dia: "Jueves", pasaje: "¬´Bautizado Jes√∫s, sali√≥ luego del agua; y en esto se abrieron los cielos y vio al Esp√≠ritu de Dios que bajaba en forma de paloma y ven√≠a sobre √©l. Y una voz que sal√≠a de los cielos dec√≠a: 'Este es mi Hijo amado, en quien me complazco'¬ª. (Mt 3,16-17)" },
                { titulo: "Las bodas de Can√°", dia: "Jueves", pasaje: "¬´Tres d√≠as despu√©s se celebraba una boda en Can√° de Galilea y estaba all√≠ la madre de Jes√∫s. Fue invitado tambi√©n a la boda Jes√∫s con sus disc√≠pulos... Jes√∫s le responde: '¬øQu√© tengo yo contigo, mujer? Todav√≠a no ha llegado mi hora'. Dice su madre a los sirvientes: 'Haced lo que √©l os diga'¬ª. (Jn 2, 1-5)." },
                { titulo: "El anuncio del Reino de Dios", dia: "Jueves", pasaje: "\"El tiempo se ha cumplido y el Reino de Dios est√° cerca; convert√≠os y creed en el Evangelio\". (Mc 1, 15)" },
                { titulo: "La Transfiguraci√≥n", dia: "Jueves", pasaje: "¬´Seis d√≠as despu√©s, Jes√∫s tom√≥ consigo a Pedro, a Santiago y a su hermano Juan, y los llev√≥ aparte, a un monte alto. Y se transfigur√≥ delante de ellos: su rostro se puso brillante como el sol y sus vestidos se volvieron blancos como la luz¬ª (Mt 17, 1-2)." },
                { titulo: "La instituci√≥n de la Eucarist√≠a", dia: "Jueves", pasaje: "¬´Mientras estaban comiendo, tom√≥ Jes√∫s pan y lo bendijo, lo parti√≥ y, d√°ndoselo a sus disc√≠pulos, dijo: 'Tomad, comed, √©ste es mi cuerpo'¬ª (Mt 26, 26)." }
            ],
            dolorosos: [
                { titulo: "La oraci√≥n en el Huerto", dia: "Martes y Viernes", pasaje: "¬´Entonces Jes√∫s fue con ellos a un huerto, llamado Getseman√≠... y suplicaba as√≠: 'Padre m√≠o, si es posible, que pase de m√≠ esta copa, pero no sea como yo quiero, sino como quieras t√∫'¬ª (Mt 26, 36-39)." },
                { titulo: "La flagelaci√≥n de Jes√∫s atado a la columna", dia: "Martes y Viernes", pasaje: "¬´Pilato puso en libertad a Barrab√°s; y a Jes√∫s, despu√©s de haberlo hecho azotar, lo entreg√≥ para que fuera crucificado¬ª (Mt 27, 26)." },
                { titulo: "La coronaci√≥n de espinas", dia: "Martes y Viernes", pasaje: "¬´Lo desnudaron y le echaron encima un manto de p√∫rpura y, trenzando una corona de espinas, se la pusieron sobre la cabeza, y en su mano derecha una ca√±a, y doblando la rodilla delante de √©l, le hac√≠an burla diciendo: 'Salve, Rey de los jud√≠os'¬ª. (Mt 27, 27-29)" },
                { titulo: "Jes√∫s con la Cruz a cuestas camino del Calvario", dia: "Martes y Viernes", pasaje: "¬´Y obligaron a uno que pasaba, a Sim√≥n de Cirene... a que llevara su cruz. Lo condujeron al lugar del G√≥lgota, que quiere decir de la 'Calavera'¬ª (Mc 15, 21-22)." },
                { titulo: "La crucifixi√≥n y muerte de Jes√∫s", dia: "Martes y Viernes", pasaje: "¬´Llegados al lugar llamado 'La Calavera', le crucificaron all√≠ a √©l y a los dos malhechores... Jes√∫s dec√≠a: 'Padre, perd√≥nales, porque no saben lo que hacen'... El velo del Santuario se rasg√≥ por medio y Jes√∫s, dando un fuerte grito dijo: 'Padre, en tus manos pongo mi esp√≠ritu' y, dicho esto, expir√≥¬ª (Lc 23, 33-46)." }
            ],
            gloriosos: [
                { titulo: "La resurrecci√≥n del Hijo de Dios", dia: "Mi√©rcoles y Domingo", pasaje: "¬´El primer d√≠a de la semana, muy de ma√±ana, fueron al sepulcro... ellos les dijeron: '¬øPor qu√© busc√°is entre los muertos al que est√° vivo? No est√° aqu√≠, ha resucitado'¬ª (Lc 24, 1-6)." },
                { titulo: "La Ascensi√≥n del Se√±or al cielo", dia: "Mi√©rcoles y Domingo", pasaje: "¬´El Se√±or Jes√∫s, despu√©s de hablarles, ascendi√≥ al cielo y se sent√≥ a la derecha de Dios¬ª (Mc 16, 19)." },
                { titulo: "La venida del Esp√≠ritu Santo", dia: "Mi√©rcoles y Domingo", pasaje: "¬´Al llegar el d√≠a de Pentecost√©s, estaban todos reunidos en un mismo lugar... Se les aparecieron unas lenguas como de fuego... quedaron todos llenos del Esp√≠ritu Santo y se pusieron a hablar en otras lenguas¬ª (Hch 2, 1-4)." },
                { titulo: "La Asunci√≥n de Mar√≠a al cielo", dia: "Mi√©rcoles y Domingo", pasaje: "¬´Todas las generaciones me llamar√°n bienaventurada porque el Se√±or ha hecho obras grandes en m√≠¬ª (Lc 1, 48-49)." },
                { titulo: "La coronaci√≥n de Mar√≠a como Reina y Se√±ora de todo lo creado", dia: "Mi√©rcoles y Domingo", pasaje: "¬´Una gran se√±al apareci√≥ en el cielo: una mujer, vestida de sol, con la luna bajo sus pies, y una corona de doce estrellas sobre su cabeza¬ª (Ap 12, 1)." }
            ]
        };
        
        const misterioTipos = {
            gozosos: { nombre: "Gozosos", dias: "Lunes y S√°bado" },
            luminosos: { nombre: "Luminosos", dias: "Jueves" },
            dolorosos: { nombre: "Dolorosos", dias: "Martes y Viernes" },
            gloriosos: { nombre: "Gloriosos", dias: "Mi√©rcoles y Domingo" }
        };

        const letaniasCompletas = [
            { linea: "Se√±or, ten piedad", respuesta: "" },
            { linea: "Cristo, ten piedad", respuesta: "" },
            { linea: "Se√±or, ten piedad.", respuesta: "" },
            { linea: "Cristo, √≥yenos.", respuesta: "" },
            { linea: "Cristo, esc√∫chanos.", respuesta: "" },
            { linea: "Dios, Padre celestial,", respuesta: "ten piedad de nosotros." },
            { linea: "Dios, Hijo, Redentor del mundo,", respuesta: "ten piedad de nosotros." },
            { linea: "Dios, Esp√≠ritu Santo,", respuesta: "ten piedad de nosotros." },
            { linea: "Sant√≠sima Trinidad, un solo Dios,", respuesta: "ten piedad de nosotros." },
            { linea: "Santa Mar√≠a,", respuesta: "ruega por nosotros." },
            { linea: "Santa Madre de Dios,", respuesta: "ruega por nosotros." },
            { linea: "Santa Virgen de las V√≠rgenes,", respuesta: "ruega por nosotros." },
            { linea: "Madre de Cristo,", respuesta: "ruega por nosotros." },
            { linea: "Madre de la Iglesia,", respuesta: "ruega por nosotros." },
            { linea: "Madre de la misericordia,", respuesta: "ruega por nosotros." },
            { linea: "Madre de la divina gracia,", respuesta: "ruega por nosotros." },
            { linea: "Madre de la esperanza,", respuesta: "ruega por nosotros." },
            { linea: "Madre pur√≠sima,", respuesta: "ruega por nosotros." },
            { linea: "Madre cast√≠sima,", respuesta: "ruega por nosotros." },
            { linea: "Madre siempre virgen,", respuesta: "ruega por nosotros." },
            { linea: "Madre inmaculada,", respuesta: "ruega por nosotros." },
            { linea: "Madre amable,", respuesta: "ruega por nosotros." },
            { linea: "Madre admirable,", respuesta: "ruega por nosotros." },
            { linea: "Madre del buen consejo,", respuesta: "ruega por nosotros." },
            { linea: "Madre del Creador,", respuesta: "ruega por nosotros." },
            { linea: "Madre del Salvador,", respuesta: "ruega por nosotros." },
            { linea: "Virgen prudent√≠sima,", respuesta: "ruega por nosotros." },
            { linea: "Virgen digna de veneraci√≥n,", respuesta: "ruega por nosotros." },
            { linea: "Virgen digna de alabanza,", respuesta: "ruega por nosotros." },
            { linea: "Virgen poderosa,", respuesta: "ruega por nosotros." },
            { linea: "Virgen clemente,", respuesta: "ruega por nosotros." },
            { linea: "Virgen fiel,", respuesta: "ruega por nosotros." },
            { linea: "Espejo de justicia,", respuesta: "ruega por nosotros." },
            { linea: "Trono de la sabidur√≠a,", respuesta: "ruega por nosotros." },
            { linea: "Causa de nuestra alegr√≠a,", respuesta: "ruega por nosotros." },
            { linea: "Vaso espiritual,", respuesta: "ruega por nosotros." },
            { linea: "Vaso digno de honor,", respuesta: "ruega por nosotros." },
            { linea: "Vaso de insigne devoci√≥n,", respuesta: "ruega por nosotros." },
            { linea: "Rosa m√≠stica,", respuesta: "ruega por nosotros." },
            { linea: "Torre de David,", respuesta: "ruega por nosotros." },
            { linea: "Torre de marfil,", respuesta: "ruega por nosotros." },
            { linea: "Casa de oro,", respuesta: "ruega por nosotros." },
            { linea: "Arca de la Alianza,", respuesta: "ruega por nosotros." },
            { linea: "Puerta del cielo,", respuesta: "ruega por nosotros." },
            { linea: "Estrella de la ma√±ana,", respuesta: "ruega por nosotros." },
            { linea: "Salud de los enfermos,", respuesta: "ruega por nosotros." },
            { linea: "Refugio de los pecadores,", respuesta: "ruega por nosotros." },
            { linea: "Consuelo de los migrantes,", respuesta: "ruega por nosotros." },
            { linea: "Consoladora de los afligidos,", respuesta: "ruega por nosotros." },
            { linea: "Auxilio de los cristianos,", respuesta: "ruega por nosotros." },
            { linea: "Reina de los √Ångeles,", respuesta: "ruega por nosotros." },
            { linea: "Reina de los Patriarcas,", respuesta: "ruega por nosotros." },
            { linea: "Reina de los Profetas,", respuesta: "ruega por nosotros." },
            { linea: "Reina de los Ap√≥stoles,", respuesta: "ruega por nosotros." },
            { linea: "Reina de los M√°rtires,", respuesta: "ruega por nosotros." },
            { linea: "Reina de los Confesores,", respuesta: "ruega por nosotros." },
            { linea: "Reina de las V√≠rgenes,", respuesta: "ruega por nosotros." },
            { linea: "Reina de todos los Santos,", respuesta: "ruega por nosotros." },
            { linea: "Reina concebida sin pecado original,", respuesta: "ruega por nosotros." },
            { linea: "Reina asunta a los Cielos,", respuesta: "ruega por nosotros." },
            { linea: "Reina del Sant√≠simo Rosario,", respuesta: "ruega por nosotros." },
            { linea: "Reina de la familia,", respuesta: "ruega por nosotros." },
            { linea: "Reina de la paz.", respuesta: "ruega por nosotros." }
        ];

        const citas = [
            {
                texto: "El Rosario me ha acompa√±ado en los momentos de alegr√≠a y en los de tribulaci√≥n. A √©l he confiado tantas preocupaciones y en √©l siempre he encontrado consuelo.",
                autor: "San Juan Pablo II"
            },
            {
                texto: "No encuentro otro medio m√°s poderoso para atraer sobre nosotros el Reino de Dios, la Sabidur√≠a eterna, que unir a la oraci√≥n vocal la oraci√≥n mental, rezando el Santo Rosario y meditando sus misterios.",
                autor: "San Luis Mar√≠a Grigni√≥n de Montfort"
            },
            {
                texto: "Rezad el Rosario todos los d√≠as para alcanzar la paz del mundo y el fin de la guerra.",
                autor: "Virgen de F√°tima, tercera aparici√≥n 13 de Julio de 1917"
            },
            {
                texto: "Af√©rrate al Rosario como las hojas de la hiedra se aferran al √°rbol; porque sin nuestra Se√±ora no podemos permanecer.",
                autor: "Santa Teresa de Calcuta"
            },
            {
                texto: "El santo Rosario es el remedio m√°s conveniente y eficaz para obtener la ayuda materna de la Virgen.",
                autor: "Papa P√≠o XII"
            },
            {
                texto: "¬°Amen a la Virgen y h√°ganla amar. Reciten siempre el Rosario!",
                autor: "Padre P√≠o de Pietrelcina"
            }
        ];


        // --- FUNCIONES DE UTILIDAD Y GENERACI√ìN DE HTML ---

        function crearSeccionOracion(titulo, texto, botonTexto = "‚úì Completar", subtitulo = "") {
            return `
                <div class="prayer-section">
                    <h4>${titulo}</h4>
                    ${subtitulo ? `<div class="mystery-subtitle">${subtitulo}</div>` : ''}
                    <div class="prayer-text">
                        <p>${texto}</p>
                    </div>
                    <button class="prayer-button" onclick="markCompleted(this)">${botonTexto}</button>
                </div>
            `;
        }

        function crear10Avemarias(misterioActual, avemariaText) {
            let botones = '';
            for (let i = 1; i <= 10; i++) {
                botones += `<button class="prayer-button" onclick="markCompleted(this)">${i}</button>`;
            }
            return `
                <div class="prayer-section">
                    <h4>10 Avemar√≠as</h4>
                    ${misterioActual ? `<div class="mystery-subtitle">${misterioActual}</div>` : ''}
                    <div class="prayer-text">
                        <p>${avemariaText}</p>
                    </div>
                    ${botones}
                </div>
            `;
        }
        
        function crearSeccionInvocaciones(datos) {
            return `
                <div class="prayer-section">
                    <h4>Invocaciones iniciales</h4>
                    <div class="prayer-text">
                        <p>${datos.linea1}</p>
                        <p class="response">${datos.respuesta1}</p>
                        <br>
                        <p>${datos.linea2}</p>
                        <p class="response">${datos.respuesta2}</p>
                        <br>
                        <p>${datos.linea3}</p>
                        <p class="response">${datos.respuesta3}</p>
                    </div>
                    <button class="prayer-button" onclick="markCompleted(this)">‚úì Completar</button>
                </div>
            `;
        }

        function crear3Avemarias() {
            let botones = '';
            for (let i = 1; i <= 3; i++) {
                botones += `<button class="prayer-button" onclick="markCompleted(this)">${i}</button>`;
            }
            // Aqu√≠ usamos la versi√≥n normal (ROJO/Gu√≠a -> AZUL/Asamblea) para las 3 Avemar√≠as.
            return `
                <div class="prayer-section">
                    <h4>3 Avemar√≠as</h4>
                    <div class="prayer-text">
                        <p>${oraciones.avemaria}</p>
                    </div>
                    ${botones}
                </div>
            `;
        }

        function crearLetanias() {
            let html = `<h2 id="letanias-y-oracion-final">Letan√≠as de la Sant√≠sima Virgen, Cordero de Dios y Oraci√≥n Final</h2><div class="prayer-section"><div class="prayer-text letanias-oracion-box">`;
            
            // 1. Letan√≠as
            html += `<h4>Letan√≠as de la Sant√≠sima Virgen</h4>`;
            letaniasCompletas.forEach((item) => {
                if (item.respuesta) {
                    html += `<p class="invocation-line">${item.linea}</p>`;
                    html += `<p class="response-line">${item.respuesta}</p>`;
                } else {
                    html += `<p class="kyrie-line">${item.linea}</p>`;
                }
            });

            // 2. Cordero de Dios
            html += `<strong>Cordero de Dios</strong>`;
            html += `<p class="invocation-line">${oraciones.cordero.linea1}</p>`;
            html += `<p class="response-line">${oraciones.cordero.respuesta1}</p>`;
            html += `<p class="invocation-line">${oraciones.cordero.linea2}</p>`;
            html += `<p class="response-line">${oraciones.cordero.respuesta2}</p>`;
            html += `<p class="invocation-line">${oraciones.cordero.linea3}</p>`;
            html += `<p class="response-line">${oraciones.cordero.respuesta3}</p>`;
            html += `<p class="invocation-line">${oraciones.cordero.linea4}</p>`;
            html += `<p class="response-line">${oraciones.cordero.respuesta4}</p>`;
            
            // 3. Oraci√≥n Final
            html += `<strong>ORACI√ìN.</strong>`;
            html += `<p class="kyrie-line">${oraciones.oracionFinal.replace(/\n/g, '<br>')}</p>`;
            
            html += `</div><button class="prayer-button" onclick="markCompleted(this)">‚úì Completar esta secci√≥n</button></div>`;
            return html;
        }

        function crearJaculatoria() {
            return `
                <div class="prayer-section">
                    <h4>Jaculatoria final</h4>
                    <div class="prayer-text">
                        <p><strong>${oraciones.jaculatoria.linea}</strong></p>
                        <p class="response">${oraciones.jaculatoria.respuesta}</p>
                    </div>
                    <button class="prayer-button" onclick="markCompleted(this)">‚úì Completar</button>
                </div>
            `;
        }
        
        function generarCitas() {
            return citas.map(cita => `
                <div class="quote-box">
                    <p>"${cita.texto}".</p>
                    <p class="quote-author">- ${cita.autor}</p>
                </div>
            `).join('');
        }

        function markCompleted(button) {
            if (button.classList.contains('completed')) {
                return;
            }
            button.classList.add('completed');
            button.disabled = true;
            button.blur();
            void button.offsetWidth;
        }
        
        // Funci√≥n para alternar la visibilidad del pasaje b√≠blico
        function togglePassage(id) {
            const passage = document.getElementById(id);
            const arrow = document.getElementById(`arrow-${id}`);
            
            if (passage.style.display === 'none' || passage.style.display === '') {
                passage.style.display = 'block';
                arrow.innerHTML = '‚ñ≤'; // Flecha hacia arriba
            } else {
                passage.style.display = 'none';
                arrow.innerHTML = '‚ñº'; // Flecha hacia abajo
            }
        }

        // --- FUNCI√ìN CENTRAL: Genera una decena completa (Collapse + Oraciones) (CORREGIDA) ---

        function generarDecenaCompleta(tipo, numero) {
            const misterioData = todosLosMisterios[tipo][numero];
            const numeroTexto = ["Primer", "Segundo", "Tercer", "Cuarto", "Quinto"];
            
            // L√≥gica para singularizar el tipo
            let nombreTipo = tipo.charAt(0).toUpperCase() + tipo.slice(1);
            if (nombreTipo.endsWith('s') && nombreTipo !== 'Jesus') {
                nombreTipo = nombreTipo.slice(0, -1);
            }

            const misterioActual = `${numeroTexto[numero]} Misterio ${nombreTipo}`;
            const mysteryId = `${tipo}-${numero}`;

            // L√≥gica de Alternancia de Colores (0-indexado)
            // √çndice 0, 2, 4 (Misterios 1¬∞, 3¬∞, 5¬∞ - Impares) -> Normal (ROJO/Gu√≠a -> AZUL/Asamblea)
            // √çndice 1, 3 (Misterios 2¬∞, 4¬∞ - Pares) -> Inverso (AZUL/Gu√≠a -> ROJO/Asamblea)
            
            let padrenuestroText, avemariaText, gloriaText;

            if (numero % 2 === 0) { // √çndice 0, 2, 4 (Impares)
                padrenuestroText = oraciones.padrenuestro;
                avemariaText = oraciones.avemaria;
                gloriaText = oraciones.gloria;
            } else { // √çndice 1, 3 (Pares)
                padrenuestroText = oraciones.padrenuestroInverso;
                avemariaText = oraciones.avemariaInversa;
                gloriaText = oraciones.gloriaInversa;
            }
            
            let html = `
                <h2 style="text-transform: capitalize; margin-top: 30px;">${misterioActual}</h2>
                
                <div class="mystery-title-clickable" onclick="togglePassage('${mysteryId}')">
                    <h4>${misterioData.titulo}</h4>
                    <span id="arrow-${mysteryId}">‚ñº</span>
                </div>
                
                <div class="bible-passage" id="${mysteryId}">
                    <p>${misterioData.pasaje}</p>
                    <p style="text-align: right; font-style: normal; margin-top: 10px; color: #764ba2; font-weight: 500;">(Breve pausa de reflexi√≥n)</p>
                </div>

                ${crearSeccionOracion("Padrenuestro", padrenuestroText, "‚úì Completar", misterioActual)}
                ${crear10Avemarias(misterioActual, avemariaText)}
                ${crearSeccionOracion("Gloria", gloriaText, "‚úì Completar", misterioActual)}
                ${crearSeccionOracion("Oh, Jes√∫s M√≠o", oraciones.ohJesus, "‚úì Completar", misterioActual)}
            `;
            return html;
        }


        // --- FUNCI√ìN DE CONTROL: Genera las 5 decenas del tipo seleccionado ---

        function mostrarMisteriosPorTipo(tipoSeleccionado) {
            const misterioDiv = document.getElementById('misterio-seleccionado');
            
            const botonesTipo = document.querySelectorAll('.mystery-type-button');
            botonesTipo.forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.type === tipoSeleccionado) {
                    btn.classList.add('active');
                }
            });

            const misteriosDelTipo = todosLosMisterios[tipoSeleccionado];
            const nombreMisterioPlural = misterioTipos[tipoSeleccionado].nombre;
            const diasMisterio = misterioTipos[tipoSeleccionado].dias;
            
            let html = `
                <div class="mystery-box" style="margin-top: 20px;">
                    <p style="text-align: center; font-weight: bold; color: #764ba2; font-size: 1.2em;">
                        ROSARIO DEL D√çA: MISTERIOS ${nombreMisterioPlural.toUpperCase()}
                    </p>
                    <p style="text-align: center; font-style: italic; color: #555;">
                        (Se rezan los ${diasMisterio})
                    </p>
                </div>
                <div id="decenas-completas">
            `;

            // Generar las cinco decenas del tipo seleccionado
            misteriosDelTipo.forEach((misterio, index) => {
                html += generarDecenaCompleta(tipoSeleccionado, index);
            });
            
            html += `</div>`;
            misterioDiv.innerHTML = html;
            
            misterioDiv.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }


        // --- FUNCI√ìN DE INICIALIZACI√ìN PRINCIPAL (Crea las secciones HTML para la carga) ---

        function generarRosarioEstatico() {
            let inicioHtml = '';
            
            // 1. Oraciones iniciales
            inicioHtml += crearSeccionOracion("Inicio", oraciones.inicio);
            inicioHtml += crearSeccionOracion("Bajo tu amparo", oraciones.bajoTuAmparo);
            inicioHtml += crearSeccionInvocaciones(oraciones.invocaciones);
            
            
            // 2. Oraciones finales (despu√©s de la decena)
            let finalesHtml = '';

            finalesHtml += `<h2 style="margin-top: 40px;">Oraciones despu√©s de la Decena</h2>`;
            finalesHtml += `<div class="prayer-section"><h4>Salve a la Virgen</h4><div class="prayer-text"><p><strong>${oraciones.salve}</strong></p></div><button class="prayer-button" onclick="markCompleted(this)">‚úì Completar</button></div>`;
            finalesHtml += crearJaculatoria();
            
            // Por las intenciones del Santo Padre
            finalesHtml += `<h2>Por las intenciones del Santo Padre</h2>`;
            // Aqu√≠ usamos la versi√≥n normal para las intenciones del Papa, ya que el Padre Nuestro se dice completo.
            finalesHtml += crearSeccionOracion("Padrenuestro", oraciones.padrenuestro); 
            finalesHtml += crear3Avemarias();
            finalesHtml += crearSeccionOracion("Santiguaci√≥n final", oraciones.santiguacion);
            
            // Secci√≥n opcional
            finalesHtml += `
                <div class="optional-section">
                    <div class="optional-header">üìø Oraciones opcionales</div>
                    <p style="margin-bottom: 20px; color: #666;">Las siguientes oraciones son opcionales y pueden rezarse al final del Rosario:</p>
                    
                    <div class="optional-index">
                        <strong>√çndice de oraciones:</strong>
                        <ul>
                            <li><a href="#letanias-y-oracion-final">‚Üí Letan√≠as de la Sant√≠sima Virgen, Cordero de Dios y Oraci√≥n Final</a></li>
                            <li><a href="#mes-maria">‚Üí Oraciones del Mes de Mar√≠a</a></li>
                        </ul>
                    </div>
            `;
            
            finalesHtml += crearLetanias();
            
            // Oraciones del Mes de Mar√≠a
            finalesHtml += `<h2 id="mes-maria" style="margin-top: 30px;">Oraciones del Mes de Mar√≠a</h2>`;
            finalesHtml += crearSeccionOracion("Oraci√≥n inicial del Mes de Mar√≠a", oraciones.mesMaria.inicial);
            finalesHtml += crearSeccionOracion("Oraci√≥n final del Mes de Mar√≠a", oraciones.mesMaria.final);
            
            finalesHtml += `</div>`; // Cierre de optional-section

            // Retornar las secciones separadas
            return { inicio: inicioHtml, finales: finalesHtml };
        }

        // Inicializar la aplicaci√≥n (Cargando el contenido en los contenedores correctos)
        document.addEventListener('DOMContentLoaded', function() {
            const rosarioContent = generarRosarioEstatico();
            
            // 1. Cargar Oraciones Iniciales
            document.getElementById('inicio-rosario').innerHTML = rosarioContent.inicio;
            
            // 2. Cargar Oraciones Finales
            document.getElementById('fin-rosario').innerHTML = rosarioContent.finales;
            
            // 3. Cargar Citas
            document.getElementById('quotes-content').innerHTML = generarCitas();
            
            // 4. Cargar Botones de selecci√≥n de tipo
            const mysteryTypesDiv = document.getElementById('mystery-types');
            let typeButtonsHtml = '';
            for (const key in misterioTipos) {
                const data = misterioTipos[key];
                typeButtonsHtml += `
                    <button class="prayer-button mystery-type-button" data-type="${key}" onclick="mostrarMisteriosPorTipo('${key}')">
                        Misterios ${data.nombre} (${data.dias})
                    </button>
                `;
            }
            mysteryTypesDiv.innerHTML = typeButtonsHtml;
        });
    </script>
</body>
</html>